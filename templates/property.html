<!DOCTYPE html>
<html>
<head>
  <title>ValueState - Property Details</title>
  <style>
    body{font-family:Arial; margin:0; background:#f5f7fb;}
    .navbar{background:#1e3a8a; color:#fff; padding:15px 30px; font-size:22px; font-weight:bold;}
    .wrap{width:85%; margin:25px auto; display:grid; grid-template-columns: 2fr 1fr; gap:20px;}
    .box{background:#fff; padding:18px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .price{font-size:22px; font-weight:bold; color:#1e40af;}
    .badge{padding:6px 10px; border-radius:6px; color:#fff; font-weight:bold; display:inline-block;}
    .under{background:green;}
    .over{background:red;}
    .fair{background:orange;}
    input, textarea{width:100%; padding:10px; margin:8px 0; border-radius:6px; border:1px solid #ccc;}
    button{width:100%; padding:10px; background:#2563eb; color:#fff; border:0; border-radius:6px; cursor:pointer;}

    .deal-badge{
  font-size:12px;
  font-weight:700;
  letter-spacing:0.2px;
  padding:6px 10px;
  border-radius:999px;
  display:inline-block;
  border:1px solid rgba(0,0,0,0.08);
}
.deal-excellent{ background:#e7f7ee; color:#0f5132; }
.deal-good{ background:#e8f0fe; color:#1e3a8a; }
.deal-fair{ background:#fff4e5; color:#7a4a00; }
.deal-overpriced{ background:#fdecea; color:#8a1f17; }
.score{
  font-size:12px;
  color:#0f172a;
  background:#f1f5f9;
  border:1px solid rgba(0,0,0,0.08);
  padding:6px 10px;
  border-radius:999px;
  font-weight:700;
  margin-left:10px;
}
  </style>
</head>
<body>

<div class="navbar">üè† ValueState ‚Äì Property Details</div>

<div class="wrap">
  <div class="box">
    {% if p.image %}
<img src="/static/uploads/{{ p.image }}" 
     style="width:100%; height:320px; object-fit:cover; border-radius:10px;">
{% else %}
<img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2"
     style="width:100%; height:320px; object-fit:cover; border-radius:10px;">
{% endif %}
    <h2 style="margin-top:15px;">üìç {{ p.location }}</h2>
    <p>{{ p.sqft }} sqft | üõè {{ p.bhk }} BHK | üõÅ {{ p.bath }} Bath</p>

    <p class="price">Listed Price: ‚Çπ {{ p.listed_price }} Lakhs</p>
    <p style="color:gray;">AI Predicted Fair Price: ‚Çπ {{ p.predicted_price }} Lakhs</p>

    {% if p.recommendation == "Underpriced" %}
      <div class="badge under">üü¢ Underpriced Deal</div>
    {% elif p.recommendation == "Overpriced" %}
      <div class="badge over">üî¥ Overpriced</div>
    {% else %}
      <div class="badge fair">‚öñ Fair Price</div>
    {% endif %}
    <div style="margin:10px 0;">
  <span class="deal-badge {{ p.deal_class }}">{{ p.deal_rating }}</span>
  <span class="score">Score {{ p.investment_score }}/100</span>
</div>

<p style="color:gray;">AI fair value: ‚Çπ {{ p.predicted_price }} Lakhs</p>
    <hr style="margin:20px 0;">
    <h3>About this property</h3>
    <p>
      This listing is analyzed by ValueState AI. The recommendation is generated by comparing the listed
      price with the AI-predicted fair market value.
    </p>
  </div>

  <div class="box">
    <h3>Contact / Inquiry</h3>

{% if success %}
  <p style="color:green; font-weight:bold;">{{ success }}</p>
{% endif %}

<form method="POST">
  <input type="text" name="name" placeholder="Your Name" required>
  <input type="tel" name="phone" placeholder="Phone Number" required>
  <textarea name="message" rows="4" placeholder="I'm interested in this property" required></textarea>
  <button type="submit">Send Inquiry</button>
</form>

    <p style="font-size:12px; color:gray; margin-top:10px;">
      (For major project demo, inquiry can be stored in database later.)
    </p>
  </div>
</div>

</body>
</html>